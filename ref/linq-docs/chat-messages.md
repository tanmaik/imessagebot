# Chat Messages

Chat Messages are individual messages within a Chat thread.

Messages can include text, attachments, and reactions. All messages are associated with a specific Chat and sent from a phone number in your organization.

## List Chat Messages

> Retrieves a paginated list of messages for a specific chat

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chat Messages","description":"Chat Messages are individual messages within a Chat thread.\n\nMessages can include text, attachments, and reactions. All messages are associated with a specific Chat and sent from a phone number in your organization.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"ChatMessage":{"type":"object","properties":{"id":{"type":"integer"},"text":{"type":"string"},"sent_at":{"type":"string","format":"date-time"},"delivered_at":{"type":"string","format":"date-time","nullable":true},"delivery_status":{"type":"string","enum":["pending","delivered","service_unavailable","paused"],"description":"Current delivery status of the message"},"edited_at":{"type":"string","format":"date-time","nullable":true},"is_read":{"type":"boolean"},"sent_from":{"type":"string","description":"The phone number or identifier that sent this message"},"chat_handle_id":{"type":"integer"},"attachments":{"type":"array","items":{"$ref":"#/components/schemas/Attachment"}},"reactions":{"type":"array","items":{"$ref":"#/components/schemas/Reaction"}}}},"Attachment":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for the attachment"},"url":{"type":"string"},"filename":{"type":"string"},"mime_type":{"type":"string"},"file_size":{"type":"integer"}}},"Reaction":{"type":"object","properties":{"id":{"type":"integer"},"chat_message_id":{"type":"integer"},"reaction":{"type":"string","enum":["love","like","dislike","laugh","emphasize","question"],"description":"The type of reaction"},"is_from_me":{"type":"boolean"},"from_phone":{"type":"string"},"sent_at":{"type":"string","format":"date-time"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"Pagination":{"type":"object","properties":{"page":{"type":"integer"},"total_pages":{"type":"integer"},"total_count":{"type":"integer"},"per_page":{"type":"integer"}}}}},"paths":{"/api/partner/v2/chats/{chat_id}/chat_messages":{"get":{"tags":["Chat Messages"],"summary":"List Chat Messages","description":"Retrieves a paginated list of messages for a specific chat","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}},{"name":"page","in":"query","description":"Page number for pagination (default 1)","schema":{"type":"integer","default":1}},{"name":"per_page","in":"query","description":"Number of items per page (default 25, max 100)","schema":{"type":"integer","default":25,"maximum":100}},{"name":"before","in":"query","description":"Filter messages sent before this timestamp (ISO 8601 format)","schema":{"type":"string","format":"date-time"}},{"name":"after","in":"query","description":"Filter messages sent after this timestamp (ISO 8601 format)","schema":{"type":"string","format":"date-time"}},{"name":"sort","in":"query","description":"Sort order for messages (default is chronological/ascending)","schema":{"type":"string","enum":["asc","desc"],"default":"asc"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ChatMessage"}},"meta":{"$ref":"#/components/schemas/Pagination"}}}}}}}}}}}
```

## Send Message

> Sends a new message in the specified chat.\
> \
> \*\*Idempotency:\*\* To prevent duplicate messages (e.g., due to network retries), include a unique \`message\[idempotency\_key]\` in your request. If a message with the same key was already sent, the API will return the existing message with a 200 status instead of creating a duplicate. The idempotency key must be alphanumeric and may include hyphens and underscores.\
> \
> \*\*Attachments:\*\* You can attach files in two ways:\
> 1\. \*\*Direct upload\*\* - Use \`message\[attachments]\[]\` fields in your multipart/form-data request to upload files directly:\
> \`\`\`bash\
> -F "message\[attachments]\[]=@file1.jpg" \\\
> -F "message\[attachments]\[]=@file2.png"\
> \`\`\`\
> 2\. \*\*URLs\*\* - Use \`message\[attachment\_urls]\[]\` to provide URLs of files. The API will download them from the provided URLs (must be publicly accessible, 30-second timeout per download):\
> \`\`\`bash\
> -F "message\[attachment\_urls]\[]=<https://example.com/document.pdf>" \\\
> -F "message\[attachment\_urls]\[]=<https://example.com/image.jpg"\\>
> \`\`\`\
> \
> Both methods can be used together in the same message.<br>

````json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chat Messages","description":"Chat Messages are individual messages within a Chat thread.\n\nMessages can include text, attachments, and reactions. All messages are associated with a specific Chat and sent from a phone number in your organization.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"ChatMessage":{"type":"object","properties":{"id":{"type":"integer"},"text":{"type":"string"},"sent_at":{"type":"string","format":"date-time"},"delivered_at":{"type":"string","format":"date-time","nullable":true},"delivery_status":{"type":"string","enum":["pending","delivered","service_unavailable","paused"],"description":"Current delivery status of the message"},"edited_at":{"type":"string","format":"date-time","nullable":true},"is_read":{"type":"boolean"},"sent_from":{"type":"string","description":"The phone number or identifier that sent this message"},"chat_handle_id":{"type":"integer"},"attachments":{"type":"array","items":{"$ref":"#/components/schemas/Attachment"}},"reactions":{"type":"array","items":{"$ref":"#/components/schemas/Reaction"}}}},"Attachment":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for the attachment"},"url":{"type":"string"},"filename":{"type":"string"},"mime_type":{"type":"string"},"file_size":{"type":"integer"}}},"Reaction":{"type":"object","properties":{"id":{"type":"integer"},"chat_message_id":{"type":"integer"},"reaction":{"type":"string","enum":["love","like","dislike","laugh","emphasize","question"],"description":"The type of reaction"},"is_from_me":{"type":"boolean"},"from_phone":{"type":"string"},"sent_at":{"type":"string","format":"date-time"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}}}},"paths":{"/api/partner/v2/chats/{chat_id}/chat_messages":{"post":{"tags":["Chat Messages"],"summary":"Send Message","description":"Sends a new message in the specified chat.\n\n**Idempotency:** To prevent duplicate messages (e.g., due to network retries), include a unique `message[idempotency_key]` in your request. If a message with the same key was already sent, the API will return the existing message with a 200 status instead of creating a duplicate. The idempotency key must be alphanumeric and may include hyphens and underscores.\n\n**Attachments:** You can attach files in two ways:\n1. **Direct upload** - Use `message[attachments][]` fields in your multipart/form-data request to upload files directly:\n```bash\n-F \"message[attachments][]=@file1.jpg\" \\\n-F \"message[attachments][]=@file2.png\"\n```\n2. **URLs** - Use `message[attachment_urls][]` to provide URLs of files. The API will download them from the provided URLs (must be publicly accessible, 30-second timeout per download):\n```bash\n-F \"message[attachment_urls][]=https://example.com/document.pdf\" \\\n-F \"message[attachment_urls][]=https://example.com/image.jpg\"\n```\n\nBoth methods can be used together in the same message.\n","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["message[text]"],"properties":{"message[text]":{"type":"string","description":"The message text content"},"message[idempotency_key]":{"type":"string","description":"Optional unique key to prevent duplicate messages. Must be alphanumeric and may include hyphens and underscores.","pattern":"^[a-zA-Z0-9_-]+$"},"message[attachments][]":{"type":"array","items":{"type":"string","format":"binary"},"description":"Optional file attachments to upload. Include one field per file (e.g., message[attachments][]=@file1.jpg message[attachments][]=@file2.png). Omit this field if not uploading files."},"message[attachment_urls][]":{"type":"array","items":{"type":"string"},"description":"Optional URLs of files to attach. The API will download files from these URLs (must be publicly accessible). Uses a 30-second timeout per download. Omit this field if not attaching files via URLs."}}}}}},"responses":{"201":{"description":"Message sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/ChatMessage"}}}}}}}}}}}
````

## Get Chat Message

> Retrieves details for a specific message

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chat Messages","description":"Chat Messages are individual messages within a Chat thread.\n\nMessages can include text, attachments, and reactions. All messages are associated with a specific Chat and sent from a phone number in your organization.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"ChatMessage":{"type":"object","properties":{"id":{"type":"integer"},"text":{"type":"string"},"sent_at":{"type":"string","format":"date-time"},"delivered_at":{"type":"string","format":"date-time","nullable":true},"delivery_status":{"type":"string","enum":["pending","delivered","service_unavailable","paused"],"description":"Current delivery status of the message"},"edited_at":{"type":"string","format":"date-time","nullable":true},"is_read":{"type":"boolean"},"sent_from":{"type":"string","description":"The phone number or identifier that sent this message"},"chat_handle_id":{"type":"integer"},"attachments":{"type":"array","items":{"$ref":"#/components/schemas/Attachment"}},"reactions":{"type":"array","items":{"$ref":"#/components/schemas/Reaction"}}}},"Attachment":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for the attachment"},"url":{"type":"string"},"filename":{"type":"string"},"mime_type":{"type":"string"},"file_size":{"type":"integer"}}},"Reaction":{"type":"object","properties":{"id":{"type":"integer"},"chat_message_id":{"type":"integer"},"reaction":{"type":"string","enum":["love","like","dislike","laugh","emphasize","question"],"description":"The type of reaction"},"is_from_me":{"type":"boolean"},"from_phone":{"type":"string"},"sent_at":{"type":"string","format":"date-time"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}}}},"paths":{"/api/partner/v2/chats/{chat_id}/chat_messages/{id}":{"get":{"tags":["Chat Messages"],"summary":"Get Chat Message","description":"Retrieves details for a specific message","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}},{"name":"id","in":"path","required":true,"description":"The message ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/ChatMessage"}}}}}}}}}}}
```

## Delete Message

> Deletes a message from the chat

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chat Messages","description":"Chat Messages are individual messages within a Chat thread.\n\nMessages can include text, attachments, and reactions. All messages are associated with a specific Chat and sent from a phone number in your organization.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}}},"paths":{"/api/partner/v2/chats/{chat_id}/chat_messages/{id}":{"delete":{"tags":["Chat Messages"],"summary":"Delete Message","description":"Deletes a message from the chat","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}},{"name":"id","in":"path","required":true,"description":"The message ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"Message deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}}}}
```

## Edit Message

> Edits an existing message in the chat

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chat Messages","description":"Chat Messages are individual messages within a Chat thread.\n\nMessages can include text, attachments, and reactions. All messages are associated with a specific Chat and sent from a phone number in your organization.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}}},"paths":{"/api/partner/v2/chats/{chat_id}/chat_messages/{id}/edit":{"post":{"tags":["Chat Messages"],"summary":"Edit Message","description":"Edits an existing message in the chat","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}},{"name":"id","in":"path","required":true,"description":"The message ID","schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["text"],"properties":{"text":{"type":"string"}}}}}},"responses":{"200":{"description":"Message edited successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"integer"},"text":{"type":"string"}}}}}}}}}}}}}
```

## React to Message

> Adds or removes a reaction from a message

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chat Messages","description":"Chat Messages are individual messages within a Chat thread.\n\nMessages can include text, attachments, and reactions. All messages are associated with a specific Chat and sent from a phone number in your organization.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"Reaction":{"type":"object","properties":{"id":{"type":"integer"},"chat_message_id":{"type":"integer"},"reaction":{"type":"string","enum":["love","like","dislike","laugh","emphasize","question"],"description":"The type of reaction"},"is_from_me":{"type":"boolean"},"from_phone":{"type":"string"},"sent_at":{"type":"string","format":"date-time"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}}}},"paths":{"/api/partner/v2/chat_messages/{chat_message_id}/reactions":{"post":{"tags":["Chat Messages"],"summary":"React to Message","description":"Adds or removes a reaction from a message","parameters":[{"name":"chat_message_id","in":"path","required":true,"description":"The message ID","schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["type","operation"],"properties":{"type":{"type":"string","description":"The type of reaction","enum":["love","like","dislike","laugh","emphasize","question"]},"operation":{"type":"string","description":"Whether to add or remove the reaction","enum":["add","remove"]}}}}}},"responses":{"201":{"description":"Reaction added successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Reaction"}}}}}}}}}}}
```

## Get Chat Message Reaction

> Retrieves details for a specific reaction

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chat Messages","description":"Chat Messages are individual messages within a Chat thread.\n\nMessages can include text, attachments, and reactions. All messages are associated with a specific Chat and sent from a phone number in your organization.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"Reaction":{"type":"object","properties":{"id":{"type":"integer"},"chat_message_id":{"type":"integer"},"reaction":{"type":"string","enum":["love","like","dislike","laugh","emphasize","question"],"description":"The type of reaction"},"is_from_me":{"type":"boolean"},"from_phone":{"type":"string"},"sent_at":{"type":"string","format":"date-time"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}}}},"paths":{"/api/partner/v2/chat_message_reactions/{reaction_id}":{"get":{"tags":["Chat Messages"],"summary":"Get Chat Message Reaction","description":"Retrieves details for a specific reaction","parameters":[{"name":"reaction_id","in":"path","required":true,"description":"The reaction ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Reaction"}}}}}}}}}}}
```
