# Chats

A Chat is a collection of Chat Messages.

To begin a chat thread, you must create a Chat with at least one phone\_number and one message.

Including multiple phone\_numbers would create a group Chat.

The phone\_number that all messages will originate from is based on your X-LINQ-INTEGRATION-TOKEN.

You do not have to include your phone\_number in the phone\_numbers array when creating a Chat, only the recipients' phone\_numbers.

A PhoneNumber is always normalized on Linq's end to assume a US country code, and append a +1 where no country code is provided. Phone Number format should be +12223334444 or 2223334444.

## List Chats

> Retrieves a paginated list of chats for the authenticated partner filtered by phone number.

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chats","description":"A Chat is a collection of Chat Messages.\n\nTo begin a chat thread, you must create a Chat with at least one phone_number and one message.\n\nIncluding multiple phone_numbers would create a group Chat.\n\nThe phone_number that all messages will originate from is based on your X-LINQ-INTEGRATION-TOKEN.\n\nYou do not have to include your phone_number in the phone_numbers array when creating a Chat, only the recipients' phone_numbers.\n\nA PhoneNumber is always normalized on Linq's end to assume a US country code, and append a +1 where no country code is provided. Phone Number format should be +12223334444 or 2223334444.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"Chat":{"type":"object","properties":{"id":{"type":"integer"},"display_name":{"type":"string","description":"The display name for the chat. Returns a manually set group name if present, otherwise a comma-separated list of participant names/phone numbers."},"service":{"type":"string","enum":["iMessage","SMS","RCS"],"description":"The messaging service used for this chat"},"group":{"type":"boolean","description":"Whether this is a group chat"},"message_count":{"type":"integer","description":"Number of messages in the chat. For newly created chats, this will be 1 (the initial message). For existing chats, this could be any number."},"chat_handles":{"type":"array","items":{"$ref":"#/components/schemas/ChatHandle"}}}},"ChatHandle":{"type":"object","properties":{"id":{"type":"integer"},"phone_number":{"type":"string","description":"The phone number or email identifier for this participant"},"service":{"type":"string","enum":["iMessage","SMS","RCS"],"description":"The messaging service for this handle"},"joined_at":{"type":"string","format":"date-time"}}},"Pagination":{"type":"object","properties":{"page":{"type":"integer"},"total_pages":{"type":"integer"},"total_count":{"type":"integer"},"per_page":{"type":"integer"}}},"Error":{"type":"object","description":"Standard error format used by most endpoints (render_error format)","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"status":{"type":"integer"},"code":{"type":"string"},"title":{"type":"string"},"detail":{"type":"string"}}}}}}}},"paths":{"/api/partner/v2/chats":{"get":{"tags":["Chats"],"summary":"List Chats","description":"Retrieves a paginated list of chats for the authenticated partner filtered by phone number.","parameters":[{"name":"phone_number","in":"query","required":true,"description":"Phone number to filter chats by. Returns all chats involving this phone number.","schema":{"type":"string"}},{"name":"page","in":"query","description":"Page number for pagination (default 1)","schema":{"type":"integer","default":1}},{"name":"per_page","in":"query","description":"Number of items per page (default 25, max 100)","schema":{"type":"integer","default":25,"maximum":100}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Chat"}},"meta":{"$ref":"#/components/schemas/Pagination"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}
```

## Create Chat

> Creates a new chat with the specified phone numbers, or returns an existing chat if one already exists with the same participants. At least one phone number must be provided.\
> \
> \*\*Note:\*\* This endpoint uses "find or create" logic:\
> \- If a chat already exists with these participants, returns the existing chat (which may have many messages)\
> \- If no chat exists, creates a new chat with your initial message (will have \`message\_count: 1\`)<br>

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chats","description":"A Chat is a collection of Chat Messages.\n\nTo begin a chat thread, you must create a Chat with at least one phone_number and one message.\n\nIncluding multiple phone_numbers would create a group Chat.\n\nThe phone_number that all messages will originate from is based on your X-LINQ-INTEGRATION-TOKEN.\n\nYou do not have to include your phone_number in the phone_numbers array when creating a Chat, only the recipients' phone_numbers.\n\nA PhoneNumber is always normalized on Linq's end to assume a US country code, and append a +1 where no country code is provided. Phone Number format should be +12223334444 or 2223334444.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"ChatHandle":{"type":"object","properties":{"id":{"type":"integer"},"phone_number":{"type":"string","description":"The phone number or email identifier for this participant"},"service":{"type":"string","enum":["iMessage","SMS","RCS"],"description":"The messaging service for this handle"},"joined_at":{"type":"string","format":"date-time"}}},"Attachment":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for the attachment"},"url":{"type":"string"},"filename":{"type":"string"},"mime_type":{"type":"string"},"file_size":{"type":"integer"}}},"Error":{"type":"object","description":"Standard error format used by most endpoints (render_error format)","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"status":{"type":"integer"},"code":{"type":"string"},"title":{"type":"string"},"detail":{"type":"string"}}}}}}}},"paths":{"/api/partner/v2/chats":{"post":{"tags":["Chats"],"summary":"Create Chat","description":"Creates a new chat with the specified phone numbers, or returns an existing chat if one already exists with the same participants. At least one phone number must be provided.\n\n**Note:** This endpoint uses \"find or create\" logic:\n- If a chat already exists with these participants, returns the existing chat (which may have many messages)\n- If no chat exists, creates a new chat with your initial message (will have `message_count: 1`)\n","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["chat","send_from","message"],"properties":{"send_from":{"type":"string","description":"Phone number to send from. This must be one of your organization's Linq phone numbers."},"chat":{"type":"object","required":["phone_numbers"],"properties":{"display_name":{"type":"string","description":"Display name for the chat (optional)"},"phone_numbers":{"type":"array","items":{"type":"string"},"description":"Phone numbers to include in the chat","minItems":1}}},"message":{"type":"object","description":"Initial message to send when creating the chat","required":["text"],"properties":{"text":{"type":"string","description":"Message text content"},"idempotency_key":{"type":"string","description":"Optional unique key to prevent duplicate messages. Must be alphanumeric and may include hyphens and underscores. If a message with this key was already sent, returns the existing message.","pattern":"^[a-zA-Z0-9_-]+$"},"attachments":{"type":"array","items":{"type":"string","format":"binary"},"description":"Optional file attachments to upload with the message. Files are uploaded as part of the multipart/form-data request. Include one field per file. Omit this field if not attaching files."},"attachment_urls":{"type":"array","items":{"type":"string"},"description":"Optional URLs of files to attach to the message. The API will download files from these URLs (must be publicly accessible). Uses a 30-second timeout per download. Can be used together with direct file uploads via `attachments`. Omit this field if not attaching files via URLs."}}}}}}}},"responses":{"200":{"description":"Chat created successfully (or existing chat returned if already exists)","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"integer"},"display_name":{"type":"string"},"service":{"type":"string","enum":["iMessage","SMS","RCS"]},"group":{"type":"boolean"},"chat_handles":{"type":"array","items":{"$ref":"#/components/schemas/ChatHandle"}},"chat_messages":{"type":"object","description":"The initial message that was sent when creating the chat","properties":{"id":{"type":"integer"},"text":{"type":"string"},"sent_at":{"type":"string","format":"date-time"},"delivered_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when message was delivered. Initially null when message is pending, populated once delivered."},"delivery_status":{"type":"string","description":"Current delivery status. Starts as \"pending\", changes to \"delivered\" once successfully delivered.","enum":["pending","delivered","rate_limit_exceeded","paused"]},"is_read":{"type":"boolean"},"attachments":{"type":"array","description":"Array of attachments if any were included","items":{"$ref":"#/components/schemas/Attachment"}}}}}}}}}}},"400":{"description":"Bad request - Invalid or missing parameters (client-side error). Please verify all required parameters are included and properly formatted.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"422":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}
```

## Get Chat

> Retrieves details for a specific chat

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chats","description":"A Chat is a collection of Chat Messages.\n\nTo begin a chat thread, you must create a Chat with at least one phone_number and one message.\n\nIncluding multiple phone_numbers would create a group Chat.\n\nThe phone_number that all messages will originate from is based on your X-LINQ-INTEGRATION-TOKEN.\n\nYou do not have to include your phone_number in the phone_numbers array when creating a Chat, only the recipients' phone_numbers.\n\nA PhoneNumber is always normalized on Linq's end to assume a US country code, and append a +1 where no country code is provided. Phone Number format should be +12223334444 or 2223334444.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"Chat":{"type":"object","properties":{"id":{"type":"integer"},"display_name":{"type":"string","description":"The display name for the chat. Returns a manually set group name if present, otherwise a comma-separated list of participant names/phone numbers."},"service":{"type":"string","enum":["iMessage","SMS","RCS"],"description":"The messaging service used for this chat"},"group":{"type":"boolean","description":"Whether this is a group chat"},"message_count":{"type":"integer","description":"Number of messages in the chat. For newly created chats, this will be 1 (the initial message). For existing chats, this could be any number."},"chat_handles":{"type":"array","items":{"$ref":"#/components/schemas/ChatHandle"}}}},"ChatHandle":{"type":"object","properties":{"id":{"type":"integer"},"phone_number":{"type":"string","description":"The phone number or email identifier for this participant"},"service":{"type":"string","enum":["iMessage","SMS","RCS"],"description":"The messaging service for this handle"},"joined_at":{"type":"string","format":"date-time"}}},"Error":{"type":"object","description":"Standard error format used by most endpoints (render_error format)","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"status":{"type":"integer"},"code":{"type":"string"},"title":{"type":"string"},"detail":{"type":"string"}}}}}}}},"paths":{"/api/partner/v2/chats/{chat_id}":{"get":{"tags":["Chats"],"summary":"Get Chat","description":"Retrieves details for a specific chat","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Chat"}}}}}},"404":{"description":"Chat not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}
```

## Find Chat

> Finds a chat by phone numbers. Specify your Linq number via 'phone\_number' and the participant(s) you want to find a chat with via 'phone\_numbers\[]'. Returns the first matching chat.

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chats","description":"A Chat is a collection of Chat Messages.\n\nTo begin a chat thread, you must create a Chat with at least one phone_number and one message.\n\nIncluding multiple phone_numbers would create a group Chat.\n\nThe phone_number that all messages will originate from is based on your X-LINQ-INTEGRATION-TOKEN.\n\nYou do not have to include your phone_number in the phone_numbers array when creating a Chat, only the recipients' phone_numbers.\n\nA PhoneNumber is always normalized on Linq's end to assume a US country code, and append a +1 where no country code is provided. Phone Number format should be +12223334444 or 2223334444.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"Chat":{"type":"object","properties":{"id":{"type":"integer"},"display_name":{"type":"string","description":"The display name for the chat. Returns a manually set group name if present, otherwise a comma-separated list of participant names/phone numbers."},"service":{"type":"string","enum":["iMessage","SMS","RCS"],"description":"The messaging service used for this chat"},"group":{"type":"boolean","description":"Whether this is a group chat"},"message_count":{"type":"integer","description":"Number of messages in the chat. For newly created chats, this will be 1 (the initial message). For existing chats, this could be any number."},"chat_handles":{"type":"array","items":{"$ref":"#/components/schemas/ChatHandle"}}}},"ChatHandle":{"type":"object","properties":{"id":{"type":"integer"},"phone_number":{"type":"string","description":"The phone number or email identifier for this participant"},"service":{"type":"string","enum":["iMessage","SMS","RCS"],"description":"The messaging service for this handle"},"joined_at":{"type":"string","format":"date-time"}}}}},"paths":{"/api/partner/v2/chats/find":{"get":{"tags":["Chats"],"summary":"Find Chat","description":"Finds a chat by phone numbers. Specify your Linq number via 'phone_number' and the participant(s) you want to find a chat with via 'phone_numbers[]'. Returns the first matching chat.","parameters":[{"name":"phone_number","in":"query","required":true,"description":"Your Linq number (the phone number you're searching from)","schema":{"type":"string"}},{"name":"phone_numbers[]","in":"query","required":true,"description":"Array of phone numbers to find a chat with. Can be a single number or multiple numbers to find a group chat.","schema":{"type":"array","items":{"type":"string"}},"style":"form","explode":true}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","oneOf":[{"type":"object","description":"When chat is found","properties":{"chat":{"$ref":"#/components/schemas/Chat"}}},{"type":"object","description":"When chat is not found","properties":{"chat":{"type":"null","nullable":true},"messages":{"type":"array","items":{"type":"object"}}}}]}}}}}}}}}}}
```

## Mark Chat as Read

> Marks all messages in a chat as read. This endpoint does not require a request body.

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chats","description":"A Chat is a collection of Chat Messages.\n\nTo begin a chat thread, you must create a Chat with at least one phone_number and one message.\n\nIncluding multiple phone_numbers would create a group Chat.\n\nThe phone_number that all messages will originate from is based on your X-LINQ-INTEGRATION-TOKEN.\n\nYou do not have to include your phone_number in the phone_numbers array when creating a Chat, only the recipients' phone_numbers.\n\nA PhoneNumber is always normalized on Linq's end to assume a US country code, and append a +1 where no country code is provided. Phone Number format should be +12223334444 or 2223334444.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"Error":{"type":"object","description":"Standard error format used by most endpoints (render_error format)","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"status":{"type":"integer"},"code":{"type":"string"},"title":{"type":"string"},"detail":{"type":"string"}}}}}}}},"paths":{"/api/partner/v2/chats/{chat_id}/mark_as_read":{"put":{"tags":["Chats"],"summary":"Mark Chat as Read","description":"Marks all messages in a chat as read. This endpoint does not require a request body.","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}}],"responses":{"204":{"description":"Chat marked as read successfully"},"404":{"description":"Chat not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}
```

## Start Typing Indicator

> Sends a typing indicator to show that you are currently typing in the chat. This endpoint does not require a request body.\
> \
> The typing indicator has a default timeout of 60 seconds. Note that sending a message will automatically terminate the typing indicator without needing to call the DELETE endpoint.\
> \
> \*\*Note:\*\* By default, the Linq platform automatically displays typing indicators to make message responses appear more human-like. If you want to manually control typing indicators using this API, contact your Linq representative to disable automated typing indicators for your organization.<br>

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chats","description":"A Chat is a collection of Chat Messages.\n\nTo begin a chat thread, you must create a Chat with at least one phone_number and one message.\n\nIncluding multiple phone_numbers would create a group Chat.\n\nThe phone_number that all messages will originate from is based on your X-LINQ-INTEGRATION-TOKEN.\n\nYou do not have to include your phone_number in the phone_numbers array when creating a Chat, only the recipients' phone_numbers.\n\nA PhoneNumber is always normalized on Linq's end to assume a US country code, and append a +1 where no country code is provided. Phone Number format should be +12223334444 or 2223334444.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"Error":{"type":"object","description":"Standard error format used by most endpoints (render_error format)","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"status":{"type":"integer"},"code":{"type":"string"},"title":{"type":"string"},"detail":{"type":"string"}}}}}}}},"paths":{"/api/partner/v2/chats/{chat_id}/start_typing":{"post":{"tags":["Chats"],"summary":"Start Typing Indicator","description":"Sends a typing indicator to show that you are currently typing in the chat. This endpoint does not require a request body.\n\nThe typing indicator has a default timeout of 60 seconds. Note that sending a message will automatically terminate the typing indicator without needing to call the DELETE endpoint.\n\n**Note:** By default, the Linq platform automatically displays typing indicators to make message responses appear more human-like. If you want to manually control typing indicators using this API, contact your Linq representative to disable automated typing indicators for your organization.\n","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}}],"responses":{"201":{"description":"Typing indicator started successfully"},"404":{"description":"Chat not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}
```

## Stop Typing Indicator

> Removes the typing indicator to show that you have stopped typing in the chat. This endpoint does not require a request body.\
> \
> \*\*Note:\*\* By default, the Linq platform automatically manages typing indicators. If you want to manually control typing indicators using this API, contact your Linq representative to disable automated typing indicators for your organization.<br>

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chats","description":"A Chat is a collection of Chat Messages.\n\nTo begin a chat thread, you must create a Chat with at least one phone_number and one message.\n\nIncluding multiple phone_numbers would create a group Chat.\n\nThe phone_number that all messages will originate from is based on your X-LINQ-INTEGRATION-TOKEN.\n\nYou do not have to include your phone_number in the phone_numbers array when creating a Chat, only the recipients' phone_numbers.\n\nA PhoneNumber is always normalized on Linq's end to assume a US country code, and append a +1 where no country code is provided. Phone Number format should be +12223334444 or 2223334444.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"Error":{"type":"object","description":"Standard error format used by most endpoints (render_error format)","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"status":{"type":"integer"},"code":{"type":"string"},"title":{"type":"string"},"detail":{"type":"string"}}}}}}}},"paths":{"/api/partner/v2/chats/{chat_id}/stop_typing":{"delete":{"tags":["Chats"],"summary":"Stop Typing Indicator","description":"Removes the typing indicator to show that you have stopped typing in the chat. This endpoint does not require a request body.\n\n**Note:** By default, the Linq platform automatically manages typing indicators. If you want to manually control typing indicators using this API, contact your Linq representative to disable automated typing indicators for your organization.\n","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}}],"responses":{"204":{"description":"Typing indicator stopped successfully"},"404":{"description":"Chat not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}
```

## Share Contact Card

> Shares your Linq contact card (name and image associated with your Linq number) with the participants in the chat. This endpoint does not require a request body.\
> \
> \*\*Note:\*\* Contact cards must be enabled for your users by the Linq team. Contact your Linq representative to enable this feature.<br>

```json
{"openapi":"3.0.3","info":{"title":"Linq Partner API","version":"2.0.0"},"tags":[{"name":"Chats","description":"A Chat is a collection of Chat Messages.\n\nTo begin a chat thread, you must create a Chat with at least one phone_number and one message.\n\nIncluding multiple phone_numbers would create a group Chat.\n\nThe phone_number that all messages will originate from is based on your X-LINQ-INTEGRATION-TOKEN.\n\nYou do not have to include your phone_number in the phone_numbers array when creating a Chat, only the recipients' phone_numbers.\n\nA PhoneNumber is always normalized on Linq's end to assume a US country code, and append a +1 where no country code is provided. Phone Number format should be +12223334444 or 2223334444.\n"}],"servers":[{"url":"https://api.linqapp.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-LINQ-INTEGRATION-TOKEN"}},"schemas":{"Error":{"type":"object","description":"Standard error format used by most endpoints (render_error format)","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"status":{"type":"integer"},"code":{"type":"string"},"title":{"type":"string"},"detail":{"type":"string"}}}}}}}},"paths":{"/api/partner/v2/chats/{chat_id}/share_contact":{"post":{"tags":["Chats"],"summary":"Share Contact Card","description":"Shares your Linq contact card (name and image associated with your Linq number) with the participants in the chat. This endpoint does not require a request body.\n\n**Note:** Contact cards must be enabled for your users by the Linq team. Contact your Linq representative to enable this feature.\n","parameters":[{"name":"chat_id","in":"path","required":true,"description":"The chat ID","schema":{"type":"integer"}}],"responses":{"201":{"description":"Contact card shared successfully"},"404":{"description":"Chat not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}
```
